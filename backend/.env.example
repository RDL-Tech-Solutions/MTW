
# =====================================================
# MTW PROMO - CONFIGURAÇÃO DE AMBIENTE
# =====================================================
# 
# IMPORTANTE: Muitas configurações foram migradas para o Painel Admin!
# Acesse /settings no painel admin para configurar:
# - Mercado Livre (Client ID, Secret, Tokens, Códigos de Afiliado)
# - Shopee (Partner ID, Partner Key)
# - Amazon (Access Key, Secret Key, Partner Tag)
# - Expo (Access Token)
# - Telegram Collector (Rate Limits, Retries)
# - Backend (URL, API Key, Python Path)
#
# Este arquivo contém APENAS configurações críticas de infraestrutura e segurança
# que DEVEM permanecer no .env
# =====================================================

# =====================================================
# 1. SERVER CONFIGURATION
# =====================================================
NODE_ENV=development
PORT=3000
API_URL=http://localhost:3000
HOST=0.0.0.0

# =====================================================
# 2. DATABASE - SUPABASE (OBRIGATÓRIO)
# =====================================================
SUPABASE_URL=https://seu-projeto.supabase.co
SUPABASE_ANON_KEY=sua_anon_key_aqui
SUPABASE_SERVICE_KEY=sua_service_key_aqui

# =====================================================
# 3. SECURITY - JWT (OBRIGATÓRIO)
# =====================================================
# Gere secrets fortes em produção:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=sua_chave_secreta_super_forte_aqui
JWT_REFRESH_SECRET=outra_chave_secreta_diferente_aqui
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# =====================================================
# 4. CACHE - REDIS (OPCIONAL)
# =====================================================
# Se não configurar, o sistema funcionará sem cache
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_TLS=false

# Para Upstash Cloud:
# REDIS_HOST=seu-redis.upstash.io
# REDIS_PORT=6379
# REDIS_PASSWORD=sua_senha_upstash
# REDIS_TLS=true

# =====================================================
# 5. CORS - ORIGENS PERMITIDAS
# =====================================================
CORS_ORIGIN=http://localhost:5173,http://localhost:5174,http://localhost:19006,http://192.168.7.7:8083
ALLOWED_HOSTS=localhost,192.168.7.7

# =====================================================
# 6. LOGGING
# =====================================================
LOG_LEVEL=info
LOG_FILE=logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=7

# =====================================================
# 7. CRON JOBS
# =====================================================
ENABLE_CRON_JOBS=true
PRICE_UPDATE_INTERVAL=*/15 * * * *
COUPON_CHECK_INTERVAL=0 */6 * * *
CLEANUP_INTERVAL=0 2 * * *

# =====================================================
# 8. ADMIN CREDENTIALS (PRIMEIRO LOGIN)
# =====================================================
# ⚠️ MUDAR EM PRODUÇÃO!
ADMIN_EMAIL=admin@mtwpromo.com
ADMIN_PASSWORD=admin123
ADMIN_NAME=Administrador

# =====================================================
# 9. BOTS - TELEGRAM (OPCIONAL - FALLBACK)
# =====================================================
# Pode ser configurado via Admin Panel (/bots)
# Este é apenas um fallback caso não esteja configurado no admin
TELEGRAM_BOT_TOKEN=seu_token_do_botfather_aqui
TELEGRAM_BOT_USERNAME=@seu_bot_username

# =====================================================
# 10. BOTS - WHATSAPP (OPCIONAL - FALLBACK)
# =====================================================
# Pode ser configurado via Admin Panel (/bots)
# Este é apenas um fallback caso não esteja configurado no admin
WHATSAPP_API_URL=https://graph.facebook.com/v18.0
WHATSAPP_API_TOKEN=seu_token_meta_aqui
WHATSAPP_PHONE_NUMBER_ID=seu_phone_number_id
WHATSAPP_VERIFY_TOKEN=mtw_promo_webhook_verify_token_2024

# =====================================================
# 11. TELEGRAM COLLECTOR - MTProto (OPCIONAL)
# =====================================================
# Credenciais para o coletor de cupons via Telegram MTProto
# Obtenha em: https://my.telegram.org/apps
TELEGRAM_API_ID=12345678
TELEGRAM_API_HASH=abcdef1234567890abcdef1234567890
TELEGRAM_PHONE=+5511999999999
TELEGRAM_SESSION_PATH=./telegram_collector/session/mtw_promo.session

# =====================================================
# 12. SECURITY & RATE LIMITING
# =====================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
BCRYPT_ROUNDS=10

# =====================================================
# 13. FILE UPLOAD
# =====================================================
UPLOAD_DIR=uploads
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,image/gif

# =====================================================
# 14. FEATURE FLAGS
# =====================================================
ENABLE_BOTS=true
ENABLE_PUSH_NOTIFICATIONS=true
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_ANALYTICS=true
ENABLE_CACHE=true

# =====================================================
# NOTAS IMPORTANTES:
# =====================================================
# 
# 1. Configurações migradas para Admin Panel:
#    - MELI_* (Mercado Livre) → Configure em /settings
#    - SHOPEE_* → Configure em /settings
#    - AMAZON_* → Configure em /settings
#    - EXPO_ACCESS_TOKEN → Configure em /settings
#    - BACKEND_URL, BACKEND_API_KEY → Configure em /settings
#    - PYTHON_PATH → Configure em /settings
#    - ALIEXPRESS_API_URL → Configure em /settings
#    - TELEGRAM_RATE_LIMIT_DELAY, TELEGRAM_MAX_RETRIES, etc → Configure em /settings
#
# 2. O .env serve como FALLBACK caso as configurações não estejam no banco
#
# 3. NUNCA commite este arquivo com valores reais!
#
# 4. Para produção, use variáveis de ambiente do servidor
#
# =====================================================
