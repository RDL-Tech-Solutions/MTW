# Server Configuration
PORT=3000
NODE_ENV=development
# CORS Origins (comma separated)
CORS_ORIGIN=http://localhost:5173,http://localhost:8080,https://precocerto.app

# Database (Supabase)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your-service-role-key
SUPABASE_ANON_KEY=your-anon-key

# Authentication (JWT)
JWT_SECRET=your-jwt-secret-at-least-32-chars
JWT_REFRESH_SECRET=your-refresh-secret-at-least-32-chars
JWT_EXPIRES_IN=1d
JWT_REFRESH_EXPIRES_IN=7d

# Cron Jobs
ENABLE_CRON_JOBS=true
# Secret for securing Vercel Cron endpoints (required for /api/cron/* routes)
CRON_SECRET=your-random-secret-key-for-cron

# Mercado Livre API
MELI_APP_ID=your-meli-app-id
MELI_SECRET_KEY=your-meli-secret-key
MELI_REDIRECT_URI=https://api.precocerto.app/
# These tokens are auto-updated by the system, but can be set initially
MELI_ACCESS_TOKEN=
MELI_REFRESH_TOKEN=
MELI_AFFILIATE_CODE=
MELI_AFFILIATE_TAG=

# Shopee API
SHOPEE_PARTNER_ID=your-shopee-partner-id
SHOPEE_PARTNER_KEY=your-shopee-partner-key

# Amazon API (Product Advertising API)
AMAZON_ACCESS_KEY=
AMAZON_SECRET_KEY=
AMAZON_PARTNER_TAG=
AMAZON_MARKETPLACE=www.amazon.com.br

# AliExpress API
ALIEXPRESS_APP_KEY=
ALIEXPRESS_APP_SECRET=
ALIEXPRESS_TRACKING_ID=

# AI / OpenRouter (IA para cupons e análise)
OPENROUTER_API_KEY=
OPENROUTER_MODEL=mistralai/mixtral-8x7b-instruct
OPENROUTER_ENABLED=true

# OpenRouter - Rate Limiting & Retry
OPENROUTER_MAX_REQUESTS_PER_MINUTE=60
OPENROUTER_RATE_LIMIT_WINDOW=60000
OPENROUTER_RETRY_MAX_ATTEMPTS=3
OPENROUTER_RETRY_BASE_DELAY=2000
OPENROUTER_QUEUE_MAX_SIZE=100
OPENROUTER_QUEUE_DELAY=500
OPENROUTER_QUEUE_TIMEOUT=300000

# Circuit Breaker (Production Stability)
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60000

# Graceful Shutdown
SHUTDOWN_TIMEOUT=30000

# Memory Monitoring (Production)
MEMORY_CHECK_INTERVAL=60000
MEMORY_WARNING_THRESHOLD=80
MEMORY_CRITICAL_THRESHOLD=90

# Modelo GRATUITO recomendado: google/gemini-flash-1.5
# Modelo PAGO melhor custo-benefício: openai/gpt-4o-mini

# Backend Configuration
BACKEND_URL=http://localhost:3000
BACKEND_API_KEY=

# Telegram Collector Configuration
TELEGRAM_COLLECTOR_RATE_LIMIT_DELAY=1.0
TELEGRAM_COLLECTOR_MAX_RETRIES=3
TELEGRAM_COLLECTOR_RECONNECT_DELAY=30

# Auto-Cleanup Configuration
# Hour (0-23) when automatic cleanup runs daily
CLEANUP_SCHEDULE_HOUR=3

# External Services
# URL Shortener (optional)
ENCURTADOR_API_URL=https://api.encurtador.dev/encurtamentos

# Expo Push Notifications
EXPO_ACCESS_TOKEN=

# VPS Configuration (Otimizações para ambiente de produção)
# Ativar modo VPS (otimizações de memória e recursos)
VPS_MODE=false

# Puppeteer Configuration
# Caminho para o executável do Chromium (VPS: /usr/bin/chromium-browser)
PUPPETEER_EXECUTABLE_PATH=
# Pular download do Chromium (usar o do sistema)
PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=false

# Browser Pool Configuration
# Número máximo de instâncias de browser simultâneas (VPS: 2, Dev: 3)
MAX_BROWSER_INSTANCES=3
# Timeout para operações do browser (ms)
BROWSER_TIMEOUT=30000

# Telegram Message Queue Configuration
# Número máximo de mensagens processadas simultaneamente (VPS: 5, Dev: 10)
TELEGRAM_QUEUE_CONCURRENCY=10

# Memory Management
# Limite máximo de memória em MB (VPS: 512, Dev: 1024)
MAX_MEMORY_MB=1024
# Habilitar monitoramento de memória
ENABLE_MEMORY_MONITORING=true
